install.packages("RISmed")
library(RISmed)
library(RISmed)
res <- EUtilsSummary('dave tang', type='esearch', db='pubmed')
res
summary(res)
res <- EUtilsSummary('McKerrow JH', type='esearch', db='pubmed')
summary(res)
QueryId(res)
a <- EUtilsGet(res)
head(a)
a
ArticleTitle(a)
Author(a)
b <- Author(a)
str(b)
Country(a)
AbstractText(a)
summary(pubmed_queryres)
summary(pubmed_query)
pubmed_query <- EUtilsSummary('McKerrow JH', type='esearch', db='pubmed')
summary(pubmed_query)
data <- EUtilsGet(pubmed_query)
Affiliation(a)
c <- Affiliation(a)
c$`256`
c$`11`
install.packages("qdap")
library(qdap)
myFunc<-function(argument){
articles1<-data.frame('Abstract'=AbstractText(fetch), 'Year'=YearPubmed(fetch))
abstracts1<-articles1[which(articles1$Year==argument),]
abstracts1<-data.frame(abstracts1)
abstractsOnly<-as.character(abstracts1$Abstract)
abstractsOnly<-paste(abstractsOnly, sep="", collapse="")
abstractsOnly<-as.vector(abstractsOnly)
abstractsOnly<-strip(abstractsOnly)
stsp<-rm_stopwords(abstractsOnly, stopwords = qdapDictionaries::Top100Words)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,20)
}
fetch <- a
myFunc<-function(argument){
articles1<-data.frame('Abstract'=AbstractText(fetch), 'Year'=YearPubmed(fetch))
abstracts1<-articles1[which(articles1$Year==argument),]
abstracts1<-data.frame(abstracts1)
abstractsOnly<-as.character(abstracts1$Abstract)
abstractsOnly<-paste(abstractsOnly, sep="", collapse="")
abstractsOnly<-as.vector(abstractsOnly)
abstractsOnly<-strip(abstractsOnly)
stsp<-rm_stopwords(abstractsOnly, stopwords = qdapDictionaries::Top100Words)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,20)
}
oSix<-myFunc(2006)
library(qdap)
library(qdap)
myFunc<-function(argument){
articles1<-data.frame('Abstract'=AbstractText(fetch), 'Year'=YearPubmed(fetch))
abstracts1<-articles1[which(articles1$Year==argument),]
abstracts1<-data.frame(abstracts1)
abstractsOnly<-as.character(abstracts1$Abstract)
abstractsOnly<-paste(abstractsOnly, sep="", collapse="")
abstractsOnly<-as.vector(abstractsOnly)
abstractsOnly<-strip(abstractsOnly)
stsp<-rm_stopwords(abstractsOnly, stopwords = qdapDictionaries::Top100Words)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,20)
}
oSix<-myFunc(2006)
oSeven<-myFunc(2007)
all<-cbind(oSix, oSeven)
names(all)<-c("2006","freq","2007","freq")
all
a <- data.frame('Abstract'=AbstractText(fetch), 'Year'=YearPubmed(fetch))
a <- data.frame('Abstract'=AbstractText(data), 'Year'=Author(data))
Author(data)
summary(pubmed_query)
a <- list('Abstract'=AbstractText(data), 'Year'=Author(data))
head(a)
head(a,1)
str(a)
myFunc<-function(){
articles1<-data.frame('Abstract'=AbstractText(fetch))
abstracts1<-articles1
abstracts1<-data.frame(abstracts1)
abstractsOnly<-as.character(abstracts1$Abstract)
abstractsOnly<-paste(abstractsOnly, sep="", collapse="")
abstractsOnly<-as.vector(abstractsOnly)
abstractsOnly<-strip(abstractsOnly)
stsp<-rm_stopwords(abstractsOnly, stopwords = qdapDictionaries::Top100Words)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,20)
}
oSix<-myFunc()
oSix
oSix <-myFunc(50)
myFunc<-function(count){
articles1<-data.frame('Abstract'=AbstractText(fetch))
abstracts1<-articles1
abstracts1<-data.frame(abstracts1)
abstractsOnly<-as.character(abstracts1$Abstract)
abstractsOnly<-paste(abstractsOnly, sep="", collapse="")
abstractsOnly<-as.vector(abstractsOnly)
abstractsOnly<-strip(abstractsOnly)
stsp<-rm_stopwords(abstractsOnly, stopwords = qdapDictionaries::Top100Words)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,count)
}
oSix <-myFunc(50)
oSix
articles1<-data.frame('Abstract'=ArticleTitle(fetch))
myFunc<-function(count){
articles1<-data.frame('Abstract'=ArticleTitle(fetch))
abstracts1<-articles1
abstracts1<-data.frame(abstracts1)
abstractsOnly<-as.character(abstracts1$Abstract)
abstractsOnly<-paste(abstractsOnly, sep="", collapse="")
abstractsOnly<-as.vector(abstractsOnly)
abstractsOnly<-strip(abstractsOnly)
stsp<-rm_stopwords(abstractsOnly, stopwords = qdapDictionaries::Top100Words)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,count)
}
oSix <-myFunc(50)
oSix
Author(data)
articles1<-data.frame('Abstract'=ArticleTitle(fetch))
articles1
abstracts1<-articles1
abstracts1<-data.frame(abstracts1)
as.character(abstracts1$Abstract)
library(RISmed)
library(qdap)
rm(list = ls())
setwd('~/Documents/Code/mckerrowInfluence/influenceNetwork/titles')
#pubmed search term
pubmed_query <- EUtilsSummary('McKerrow JH', type='esearch', db='pubmed')
summary(pubmed_query)
#retrieving data from pubmed
data <- EUtilsGet(pubmed_query)
#Function for getting Title info for search term and determining most frequent of words
TitleFrequency <- function(count){
titles <- data.frame('Title'=ArticleTitle(data))
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
stsp <- rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top200Words)
stsp <- rm_nchar_words(stsp[[1]], n = 1)
stsp <- rm_non_words(stsp)
ord <- as.data.frame(table(stsp))
ord <- ord[order(ord$Freq, decreasing=TRUE),]
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[-1,]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
return(topTermTitle)
}
#Getting counts for most frequent terms in Titles
count <- 60
TermFreq <- TitleFrequency(count)
TermFreq
#Saving list of most common terms in titles
str(TermFreq)
#Saving list of most common terms in titles
write.csv(TermFreq,"titlesTermFreq.csv", row.names = FALSE)
rm(list = ls())
setwd('~/Documents/Code/mckerrowInfluence/influenceNetwork/titles')
read.csv(file = 'titlesTermFreq.csv')
TermFreq <- read.csv(file = 'titlesTermFreq.csv')
TermFreq
rm(list = ls())
setwd('~/Documents/Code/mckerrowInfluence/influenceNetwork/titles')
termFreq <- read.csv(file = 'titlesTermFreq.csv')
titles <- read.csv(file = 'titles.csv')
# Read in the data:
nodes2 <- read.csv("./Data files/Dataset2-Media-User-Example-NODES.csv", header=T, as.is=T)
links2 <- read.csv("./Data files/Dataset2-Media-User-Example-EDGES.csv", header=T, row.names=1)
# Examine the data:
head(nodes2)
# Read in the data:
nodes2 <- read.csv("./Data files/Dataset2-Media-User-Example-NODES.csv", header=T, as.is=T)
# -------~~ DATASET 2: matrix  --------
setwd('~/Downloads/')
# Read in the data:
nodes2 <- read.csv("./Data files/Dataset2-Media-User-Example-NODES.csv", header=T, as.is=T)
# -------~~ DATASET 2: matrix  --------
setwd('~/Downloads/sunbelt2019/')
# Read in the data:
nodes2 <- read.csv("./Data files/Dataset2-Media-User-Example-NODES.csv", header=T, as.is=T)
links2 <- read.csv("./Data files/Dataset2-Media-User-Example-EDGES.csv", header=T, row.names=1)
# Examine the data:
head(nodes2)
# Examine the data:
nodes2
paste(c('s', 1:3), sep = "")
paste('s', 1:3, sep = "")
paste('s', 10:nrow(termFreq))
paste('s', 10:nrow(termFreq), sep = "")
paste('s', 10:nrow(termFreq), sep = "")
c(paste('s0', 1:9, sep = ""),
paste('s', 10:nrow(termFreq), sep = ""))
# Examine the data:
nodes2
setwd('~/Documents/Code/mckerrowInfluence/influenceNetwork/titles')
termFreq <- read.csv(file = 'titlesTermFreq.csv')
titles <- read.csv(file = 'titlesSchoo.csv')
titles <- read.csv(file = 'titlesSchools.csv')
#makeing nodes
id <- c(paste('s0', 1:9, sep = ""), #ids for terms
paste('s', 10:nrow(termFreq), sep = ""))
