author_vector[author_vector == "LM Podust"]
table(abstractsOnly)[table(abstractsOnly) > 3]
library(RISmed)
library(qdap)
#pubmed search term
pubmed_query <- EUtilsSummary('McKerrow JH', type='esearch', db='pubmed')
summary(pubmed_query)
#
data <- EUtilsGet(pubmed_query)
titles <-data.frame('Title'=ArticleTitle(fetch))
titles <-data.frame('Title'=ArticleTitle(data))
titles
TitleOnly<-as.character(titles$Title)
TitleOnly
str(titles)
str(TitleOnly)
paste(TitleOnly, sep="", collapse="")
titles <- data.frame('Title'=ArticleTitle(data))
TitleOnly <- as.character(titles$Title)
TitleOnly <- paste(TitleOnly, sep="", collapse="")
TitleOnly <- as.vector(TitleOnly)
TitleOnly
strip(TitleOnly)
titles <- data.frame('Title'=ArticleTitle(data))
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
rm(list = ls())
#pubmed search term
pubmed_query <- EUtilsSummary('McKerrow JH', type='esearch', db='pubmed')
summary(pubmed_query)
#retrieving data from pubmed
data <- EUtilsGet(pubmed_query)
titles <- data.frame('Title'=ArticleTitle(data))
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
TitlesOnly
strip(TitleOnly)
strip(TitlesOnly)
TitlesOnly
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
#TitlesOnly <- strip(TitlesOnly)
stsp<-rm_stopwords(abstractsOnly, stopwords = qdapDictionaries::Top100Words)
ord<-as.data.frame(table(stsp))
#TitlesOnly <- strip(TitlesOnly)
stsp<-rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top100Words)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,30)
qdapDictionaries::Top100Words
head(ord,30)
rm_non_words(TitlesOnly)
stsp<-rm_non_words(TitlesOnly)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,30)
#TitlesOnly <- strip(TitlesOnly)
stsp<-rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top100Words)
stsp<-rm_non_words(TitlesOnly)
#TitlesOnly <- strip(TitlesOnly)
stsp<-rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top100Words)
stsp<-rm_non_words(stsp)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,30)
#TitlesOnly <- strip(TitlesOnly)
stsp<-rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top100Words)
#stsp<-rm_non_words(stsp)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,30)
stsp
titles <- data.frame('Title'=ArticleTitle(data))
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
TitlesOnly
TitlesOnly <- as.vector(TitlesOnly)
#TitlesOnly <- strip(TitlesOnly)
stsp<-rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top100Words)
#stsp<-rm_non_words(stsp)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,30)
TitlesOnly <- strip(TitlesOnly)
stsp<-rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top100Words)
#stsp<-rm_non_words(stsp)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,30)
titles <- data.frame('Title'=AbstractText(data))
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
TitlesOnly <- strip(TitlesOnly)
stsp<-rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top100Words)
#stsp<-rm_non_words(stsp)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,30)
titles <- data.frame('Title'=AbstractText(data))
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
#TitlesOnly <- strip(TitlesOnly)
stsp<-rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top100Words)
ord<-as.data.frame(table(stsp))
ord<-ord[order(ord$Freq, decreasing=TRUE),]
head(ord,30)
count <- 25
ord[1:count]
ord[1:count,]
topTermTitle <- ord[1:count,2]
topTermTitle
topTermTitle <- ord[1:count,1]
topTermTitle
topTermTitle[topTermTitle != '.' | topTermTitle != ',' | topTermTitle != '-']
topTermTitle != '.'
topTermTitle != '.' | topTermTitle != ','
topTermTitle != '.' & topTermTitle != ','
topTermTitle[topTermTitle != '.' & topTermTitle != ',' & topTermTitle != '-']
strip(topTermTitle)
topTermTitle != ""
topTermTitle != ""
is.na(topTermTitle)
topTermTitle == ""
topTermTitle == " "
stsp
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
TitlesOnly <- strip(TitlesOnly)
stsp <- rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top100Words)
ord <- as.data.frame(table(stsp))
ord <- ord[order(ord$Freq, decreasing=TRUE),]
count <- 25
topTermTitle <- ord[1:count,1]
topTermTitle
count <- 25
topTermTitle <- ord[1:count,1]
topTermTitle <- strip(topTermTitle)
topTermTitl
topTermTitle
stsp
str(stsp)
stsp
stsp[[1]]
strip(stsp[[1]])
rm_nchar_words(stsp[[1]], n = 1)
stsp <- rm_nchar_words(stsp[[1]], n = 1)
ord <- as.data.frame(table(stsp))
ord <- ord[order(ord$Freq, decreasing=TRUE),]
count <- 25
topTermTitle <- ord[1:count,1]
topTermTitle <- strip(topTermTitle)
topTermTitle
topTermTitle <- ord[1:count,1]
#topTermTitle <- strip(topTermTitle)
topTermTitle
count <- 25
topTermTitle <- ord[1:count,1]
#topTermTitle <- strip(topTermTitle)
topTermTitle
head(ord)
#topTermTitle <- strip(topTermTitle)
topTermTitle
qdapDictionaries::Top100Words
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
#TitlesOnly <- strip(TitlesOnly)
stsp <- rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top200Words)
stsp <- rm_nchar_words(stsp[[1]], n = 1)
ord <- as.data.frame(table(stsp))
ord <- ord[order(ord$Freq, decreasing=TRUE),]
head(ord)
head(ord)
stsp
rm_non_words(stsp)
stsp <- rm_non_words(stsp)
ord <- as.data.frame(table(stsp))
ord <- ord[order(ord$Freq, decreasing=TRUE),]
head(ord)
count <- 25
topTermTitle <- ord[1:count,1]
#topTermTitle <- strip(topTermTitle)
topTermTitle
qdapDictionaries::Top200Words
topTermTitle
count <- 25
topTermTitle <- ord[1:count,1]
topTermTitle
head(ord)
head(ord, 30)
rm_white(topTermTitle)
head(ord, 30)
topTermTitle <- ord[1:count,1:2]
topTermTitle
topTermTitle <- topTermTitle[-1]
topTermTitle
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[,-1]
topTermTitle <- topTermTitle[,-1]
topTermTitle
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[-1,]
topTermTitle
ncol(topTermTitle)
nrow(topTermTitle)
rownames(topTermTitle)
rownames(topTermTitle) <- 1:nrow(topTermTitle)
topTermTitle
head(ord, 30)
count <- 25
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[-1,]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
topTermTitle
count <- 60
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[-1,]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
topTermTitle
#Getting Title info for search term and determining most frequent of words
titles <- data.frame('Title'=AbstractText(data))
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
#TitlesOnly <- strip(TitlesOnly)
stsp <- rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top200Words)
stsp <- rm_nchar_words(stsp[[1]], n = 1)
stsp <- rm_non_words(stsp)
ord <- as.data.frame(table(stsp))
ord <- ord[order(ord$Freq, decreasing=TRUE),]
head(ord, 30)
count <- 60
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[-1,]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
topTermTitle
count <- 60
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[-1,]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
topTermTitle
#Getting Title info for search term and determining most frequent of words
titles <- data.frame('Title'=ArticleTitle(data))
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
#TitlesOnly <- strip(TitlesOnly)
stsp <- rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top200Words)
stsp <- rm_nchar_words(stsp[[1]], n = 1)
stsp <- rm_non_words(stsp)
ord <- as.data.frame(table(stsp))
ord <- ord[order(ord$Freq, decreasing=TRUE),]
head(ord, 30)
count <- 60
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[-1,]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
topTermTitle
#Function for getting Title info for search term and determining most frequent of words
TitleFrequency <- function(count){
titles <- data.frame('Title'=ArticleTitle(data))
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
stsp <- rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top200Words)
stsp <- rm_nchar_words(stsp[[1]], n = 1)
stsp <- rm_non_words(stsp)
ord <- as.data.frame(table(stsp))
ord <- ord[order(ord$Freq, decreasing=TRUE),]
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[-1,]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
return(topTermTitle)
}
count <- 60
TermFreq <- TitleFrequency(count)
TermFreq
rm(list = ls())
#pubmed search term
pubmed_query <- EUtilsSummary('McKerrow JH', type='esearch', db='pubmed')
summary(pubmed_query)
#retrieving data from pubmed
data <- EUtilsGet(pubmed_query)
author <- data.frame('Title'=Author(data))
Author(data)
author <- Author(data)
author
names(author)
titles <- data.frame('Title'=ArticleTitle(data))
titles
titles[176]
titles[176,]
author[[176]]
author[[306]]
titles[306,]
author[[306]]
author
x[,1]
LastNameOnly <- vector()
LastNameOnly  <- c(LastNameOnly, df[1,1])
LastNameOnly  <- c(LastNameOnly, df)
for(df in author){
LastNameOnly  <- c(LastNameOnly, df)
}
LastNameOnly
LastNameOnly  <- c(LastNameOnly, df$LastName)
for(df in author){
LastNameOnly  <- c(LastNameOnly, df$LastName)
}
LastNameOnly
print(df$LastName)
for(df in author){
print(df$LastName)
#LastNameOnly  <- c(LastNameOnly, df$LastName)
}
print(lLastName)
for(df in author){
for(lastName in df$LastName){
print(lastName)
#LastNameOnly  <- c(LastNameOnly, df$LastName)
}
}
for(df in author){
for(lastName in df$LastName){
LastNameOnly  <- c(LastNameOnly, lastName)
}
}
LastNameOnly
LastNameOnly <- vector()
for(df in author){
for(lastName in df$LastName){
LastNameOnly  <- c(LastNameOnly, lastName)
}
}
LastNameOnly
ord <- as.data.frame(table(LastNameOnly))
ord
ord <- ord[order(ord$Freq, decreasing=TRUE),]
count <- 10
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[-1,]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
topTermTitle
count <- 20
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[-1,]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
topTermTitle
#Function for getting Title info for search term and determining most frequent of words
authorFreq <- function(count){
author <- Author(data)
LastNameOnly <- vector()
for(df in author){
for(lastName in df$LastName){
LastNameOnly  <- c(LastNameOnly, lastName)
}
}
ord <- as.data.frame(table(LastNameOnly))
ord <- ord[order(ord$Freq, decreasing=TRUE),]
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[-1,]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
return(topTermTitle)
}
#Getting counts for most frequent terms in Titles
count <- 60
TermFreq <- authorFreq(count)
TermFreq
author <- Author(data)
LastNameOnly <- vector()
for(df in author){
for(lastName in df$LastName){
LastNameOnly  <- c(LastNameOnly, lastName)
}
}
ord <- as.data.frame(table(LastNameOnly))
ord
ord[501:600,]
ord <- ord[order(ord$Freq, decreasing=TRUE),]
head(ord)
#Function for getting Title info for search term and determining most frequent of words
authorFreq <- function(count){
author <- Author(data)
LastNameOnly <- vector()
for(df in author){
for(lastName in df$LastName){
LastNameOnly  <- c(LastNameOnly, lastName)
}
}
ord <- as.data.frame(table(LastNameOnly))
ord <- ord[order(ord$Freq, decreasing=TRUE),]
topTermTitle <- ord[1:count,1:2]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
return(topTermTitle)
}
#Getting counts for most frequent terms in Titles
count <- 60
TermFreq <- authorFreq(count)
TermFreq
TermFreq
library(RISmed)
library(qdap)
rm(list = ls())
#pubmed search term
pubmed_query <- EUtilsSummary('McKerrow JH', type='esearch', db='pubmed')
summary(pubmed_query)
#retrieving data from pubmed
data <- EUtilsGet(pubmed_query)
#Function for getting Title info for search term and determining most frequent of words
TitleFrequency <- function(count){
titles <- data.frame('Title'=ArticleTitle(data))
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
stsp <- rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top200Words)
stsp <- rm_nchar_words(stsp[[1]], n = 1)
stsp <- rm_non_words(stsp)
ord <- as.data.frame(table(stsp))
ord <- ord[order(ord$Freq, decreasing=TRUE),]
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[-1,]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
return(topTermTitle)
}
#Getting counts for most frequent terms in Titles
count <- 60
TermFreq <- TitleFrequency(count)
TermFreq
#
titles <- data.frame('Title'=ArticleTitle(data))
titles
titles[1,]
ArticleTitle(data)
write.csv(titles,"titles.csv", row.names = FALSE)
dir()
setwd('~/Documents/Code')
dir()
setwd('~/Documents/Code/mckerrowInfluence')
dir()
setwd('~/Documents/Code/mckerrowInfluence/influenceNetwork')
dir()
setwd('~/Documents/Code/mckerrowInfluence/influenceNetwork/titles')
dir()
rm(list = ls())
setwd('~/Documents/Code/mckerrowInfluence/influenceNetwork/titles')
#pubmed search term
pubmed_query <- EUtilsSummary('McKerrow JH', type='esearch', db='pubmed')
summary(pubmed_query)
#retrieving data from pubmed
data <- EUtilsGet(pubmed_query)
#Function for getting Title info for search term and determining most frequent of words
TitleFrequency <- function(count){
titles <- data.frame('Title'=ArticleTitle(data))
TitlesOnly <- as.character(titles$Title)
TitlesOnly <- paste(TitlesOnly, sep="", collapse="")
TitlesOnly <- as.vector(TitlesOnly)
stsp <- rm_stopwords(TitlesOnly, stopwords = qdapDictionaries::Top200Words)
stsp <- rm_nchar_words(stsp[[1]], n = 1)
stsp <- rm_non_words(stsp)
ord <- as.data.frame(table(stsp))
ord <- ord[order(ord$Freq, decreasing=TRUE),]
topTermTitle <- ord[1:count,1:2]
topTermTitle <- topTermTitle[-1,]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
return(topTermTitle)
}
#Getting counts for most frequent terms in Titles
count <- 60
TermFreq <- TitleFrequency(count)
TermFreq
#Saving list of titles to add corresponding school manually
#Will go through each individual entry and determine what school was affiliated with the search term
titles <- data.frame('Title'=ArticleTitle(data))
write.csv(titles,"titles.csv", row.names = FALSE)
library(RISmed)
library(qdap)
rm(list = ls())
#pubmed search term
pubmed_query <- EUtilsSummary('McKerrow JH', type='esearch', db='pubmed')
summary(pubmed_query)
#retrieving data from pubmed
data <- EUtilsGet(pubmed_query)
#Function for getting Title info for search term and determining most frequent of words
authorFreq <- function(count){
author <- Author(data)
LastNameOnly <- vector()
for(df in author){
for(lastName in df$LastName){
LastNameOnly  <- c(LastNameOnly, lastName)
}
}
ord <- as.data.frame(table(LastNameOnly))
ord <- ord[order(ord$Freq, decreasing=TRUE),]
topTermTitle <- ord[1:count,1:2]
rownames(topTermTitle) <- 1:nrow(topTermTitle)
return(topTermTitle)
}
#Getting counts for most frequent terms in Titles
count <- 60
TermFreq <- authorFreq(count)
TermFreq
#
author <- Author(data)
author
author$`13`
